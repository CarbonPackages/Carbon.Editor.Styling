import{a as w}from"./chunk-CQNRKTFS.js";import{a as v}from"./chunk-MNULEYGD.js";import{a as yt}from"./chunk-UO3OKDPQ.js";import{b,e as D,f as L}from"./chunk-27VFVVIR.js";var o=b(D(),1),C=b(yt(),1);var tt=b(D(),1),it=b(v(),1);var V=b(D(),1);function U({children:i,title:r,onActive:s,onClick:e=()=>{}}){return V.default.createElement("button",{type:"button",title:r,onMouseDown:s?()=>s(!0):null,onBlur:s?()=>s(!1):null,onClick:e,className:"editorstyling-1ghz6dp editorstyling-1t8ecn8 editorstyling-1i66d86 editorstyling-jbqb8w editorstyling-1heor9g editorstyling-c342km editorstyling-1qlqyl8 editorstyling-1ypdohk editorstyling-1sv5n3t editorstyling-1curdr6 editorstyling-1yasepr editorstyling-kwbyna editorstyling-1p9coah editorstyling-dnrdwn"},i)}function gt({units:i=["px","%"],unit:r="px",onActive:s,onClick:e=()=>{},i18nRegistry:m}){let f=(i.indexOf(r)+1)%i.length,c=i[f],h=m.translate("changeToUnit",c,[c],"Carbon.Editor.Styling","Main");return tt.default.createElement(U,{title:h,onActive:s,onClick:()=>e(c)},r)}var mt=(0,it.neos)(i=>({i18nRegistry:i.get("i18n")})),ot=mt(gt);function q(i){return i==null||i==null||typeof i=="string"&&!i.trim().length||typeof i=="number"&&isNaN(i)}function kt(i,r,s,e=!1,m=!1){if(typeof i=="string"){let c=i.match(/^(-?\d*\.?\d+)(.*)$/),h=["px"];if(e&&h.push("%"),c){let $=parseFloat(c[1]),d=c[2];return e&&d.startsWith("%")?(r=0,s=100,d="%"):(d.startsWith("rem")||d.startsWith("em"))&&(d="rem",$=$*16),h.includes(d)||(d="px"),{value:j($,r,s),unit:d,min:r,max:s}}}let f=q(i);return f&&(i=0),{value:m&&f?null:j(i,r,s),unit:"px",min:r,max:s}}function Ft(i,r,s){let{value:e}=kt(i,r,s);return e}function j(i,r,s,e=!1){return typeof i=="string"&&(i=parseFloat(i)),(!i||typeof i!="number")&&(i=0),e||(i=Math.round(i)),typeof r=="number"&&(i=Math.max(r,i)),typeof s=="number"&&(i=Math.min(s,i)),i}var st=b(v(),1);var ht={kaIpWk:"editorstyling-1cum3z5",k8WAf4:"editorstyling-t970qd",kE3dHu:"editorstyling-anjte",kpe85a:"editorstyling-wsd3xy",$$css:!0},at={kysU6D:"editorstyling-jyslct",kzqmXN:"editorstyling-h8yej3",$$css:!0},p={basicLook:{kogj98:"editorstyling-1ghz6dp",kZKoxP:"editorstyling-1i66d86",kWkggS:"editorstyling-12g9wsq",kMwMTN:"editorstyling-189eng2",kMzoRj:"editorstyling-c342km",kGuDYH:"editorstyling-k07rqz",kkrTdU:"editorstyling-1ed109x",$$css:!0},inputLook:i=>[ht,{"--x-paddingRight":(r=>typeof r=="number"?r+"px":r??void 0)(i?0:"var(--fontSize-Base)")}],input:i=>[at,{k9WMMc:i!=null?"editorstyling-142shqn":i,$$css:!0},{"--x-textAlign":i??void 0}],flex:{k1xSpc:"editorstyling-78zum5",kGNEyG:"editorstyling-6s0dn4",kjj79g:"editorstyling-1qughib",$$css:!0},focus:{kI3sdo:"editorstyling-1a2a7pz",kMwMTN:"editorstyling-1cosvjk",kWkggS:"editorstyling-1n5oe1f",$$css:!0},highlight:{kaIpWk:"editorstyling-1cum3z5",kI3sdo:"editorstyling-us49la",kInvED:"editorstyling-1hl8ikr",$$css:!0},disabled:{kkrTdU:"editorstyling-1h6gzvc",kSiTet:"editorstyling-190dgpg",kSmsF6:"editorstyling-vszx66",$$css:!0}};function xt({debounce:i=500,i18nRegistry:r,value:s,onChange:e,onChangeDebounced:m,placeholder:z,unit:f,unitSwitch:c,containerStyle:h,inputStyle:$,onFocus:d,onBlur:O,onEnterKey:G,onKeyPress:K,onKeyDown:H,disabled:N,min:rt,max:nt,title:et,highlight:ft,allowFloat:P=!1,setFocus:A=!1,allowEmpty:Z=!1,textAlign:ct="left",allowMakePasswordVisible:dt=!0,neos:$t,...u}){let[T,lt]=(0,o.useState)(u?.type||"text"),a=u?.type=="number",x=!!(u?.type=="password"&&dt),k=(0,o.useRef)(null),[y,I]=(0,o.useState)(s),[_,X]=(0,o.useState)(!1),[Y,E]=(0,o.useState)(!!u.fakeFocus);(0,o.useEffect)(()=>{E(!!u.fakeFocus)},[u.fakeFocus]),(0,o.useEffect)(()=>{J(y)},[u.max,u.min]);function J(t,n=!1){if(!(!m&&!e)){if(typeof t=="string")for(;t.startsWith(" ");)t=t.substring(1);if(!a){W(t,n);return}if(q(t)){if(Z){W("");return}t=B(0),I(t),W(t,n);return}if(typeof t=="number"&&(t=B(t)),typeof t!="string"){W(t,n);return}if(t=t.replace(",",".").replace(/[a-zA-Z\s]/g,""),R(t)){let g=t.match(/\+([\+]+)$/)?.[0].length||0,F=g?0:t.match(/-([-]+)$/)?.[0].length||0;if(g||F){let S=g?"+":"-",M=g||F,l=10**(M-2);t=`${t.slice(0,-M)}${S}${l}`}for(;t.includes("++")||t.includes("--");)t=t.replaceAll("++","+").replaceAll("--","-");for(;pt(t);)t=t.substring(1);if(t.length||(t=""),ut(t))return;if(t)try{t=(0,eval)(t.replaceAll(":","/"))}catch{}}else t=parseFloat(t);P||(t=Math.round(t)),t=`${B(t)}`,y!==t&&I(t),W(t,n)}}function W(t,n=!1){t===s&&!n||(m?m(t):e(t))}let Q=w(J,i);(0,o.useEffect)(()=>{I(s)},[s]),(0,o.useEffect)(()=>{m&&e&&y!=s&&e(y)},[y]),(0,o.useEffect)(()=>{k&&k.current&&(u.autoFocus||A)&&k.current.focus()},[]),(0,o.useEffect)(()=>{k&&k.current&&A&&k.current.focus()},[A]);function R(t){return t.includes("+")||t.includes("-")||t.includes("*")||t.includes("/")||t.includes(":")}function pt(t){return t.startsWith("*")||t.startsWith("/")||t.startsWith(":")}function ut(t){return t.endsWith("+")||t.endsWith("-")||t.endsWith("*")||t.endsWith("/")||t.endsWith(":")}function B(t){return j(t,rt,nt,P)}return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{...L(!!(x||f)&&[p.flex,p.inputLook(x||c),p.basicLook],!!(x||f)&&!!(_||Y)&&p.focus,ft&&p.highlight,N&&p.disabled,h),onClick:()=>{(x||f)&&!N&&k?.current?.focus()},title:et},o.default.createElement("input",{...u,...L(p.input(ct),p.basicLook,a&&p.numberInput,!(f||x)&&p.inputLook(!1),(_||Y)&&p.focus,$),onFocus:t=>{X(!0),d&&d(t)},onBlur:t=>{X(!1),O&&O(t)},value:y===null?"":y,role:"textbox","aria-multiline":"false","aria-disabled":N?"true":"false",type:a?"text":T,inputmode:a?"numeric":null,autocomplete:"off",placeholder:z?r.translate(unescape(z)):null,disabled:N,onChange:t=>{let n=t.target.value;I(n),Q(n)},onKeyDown:t=>{typeof H=="function"&&H(t);let n=t.key;if(a&&(n=="ArrowDown"||n=="ArrowUp")){let{metaKey:g,shiftKey:F,altKey:S}=t,M=n=="ArrowDown"?-1:1,l=parseFloat(y)||0;S?l=(l*10+M)/10:l=l+M*(F?10:g?100:1),l=`${B(l)}`,y!==l&&(I(l),Q(l)),t.preventDefault()}},onKeyPress:t=>{let n=t.key;if(n=="Enter"&&typeof G=="function"){G();return}if(typeof K=="function"&&K(t),a){let g=t.target.value;(g.includes(".")||g.includes(","))&&(n=="."||n==",")&&t.preventDefault(),isNaN(n)&&!R(n)&&n!="."&&n!=","&&n!=" "&&t.preventDefault()}},ref:k}),!(Z&&q(y))&&o.default.createElement(o.default.Fragment,null,c&&f?o.default.createElement(ot,{unit:f,onActive:E,onClick:c}):f),x&&o.default.createElement(U,{onActive:E,onClick:()=>{lt(T=="password"?"text":"password")}},T=="password"?o.default.createElement(C.Icon,{icon:"eye"}):o.default.createElement(C.Icon,{icon:"eye-slash"}))))}var bt=(0,st.neos)(i=>({i18nRegistry:i.get("i18n")})),Dt=bt(xt);export{q as a,kt as b,Ft as c,j as d,Dt as e};
