import{e as P,f as B}from"./chunk-DLDM2M7C.js";import{a as H}from"./chunk-Z4CIOFZC.js";import{a as at}from"./chunk-VODNI7P4.js";import"./chunk-A6XDEK34.js";import{a as lt,b as $,e as it,f as y}from"./chunk-XTEK7IIS.js";var V=lt((xt,M)=>{"use strict";function ft(e,t){var s=t.length,l=e.length;if(l>s)return!1;if(l===s)return e===t;t:for(var o=0,r=0;o<l;o++){for(var a=e.charCodeAt(o);r<s;)if(t.charCodeAt(r++)===a)continue t;return!1}return!0}M.exports=ft});var n=$(it(),1),F=$(H(),1),G=$(at(),1),w=$(H(),1),J=$(V(),1);function O(e){return!e||typeof e!="string"?null:e.startsWith("resource://")?e.replace("resource://","/_Resources/Static/Packages/"):e}function K(e){let t=O(e);if(!t||document.querySelector(`link[href="${t}"]`))return null;let s=document.head,l=document.createElement("link");l.rel="stylesheet",l.href=t,s.appendChild(l)}function ct(e,t){return t?t==="Sans Serif"?"sans-serif":t.toLowerCase():e.includes("sans-serif")?"sans-serif":e.includes("serif")?"serif":e.includes("monospace")?"monospace":e.includes("cursive")?"cursive":e.includes("fantasy")?"fantasy":"sans-serif"}function ut(e,t,s,l,o){let r=o||t.split(".").pop();return`@font-face{font-family:${e};font-weight:${s};font-style:${l};font-display:swap;src:url("${t}") format("${r}")}`}function C(e){return!e||typeof e!="string"?"":e.replaceAll("'","").replaceAll('"',"").replaceAll(",",", ").replaceAll("  "," ").trim()}function _(e,t,s){let l=C(t.label||e),o=t.fallback||"",r=C(o),a=t.type||ct(r,t.group),f=t.fontFile===!0?!0:O(t.fontFile),d=t.cssFile===!0?!0:O(t.cssFile),x=`${e}${s&&o?`,${o}`:""}`,m=t.fontStyle||"normal",b=t.fontWeight||400,h=typeof d=="string"?`@import url("${d}");`:"",k=typeof f=="string"?ut(e,f,b,m,t.fontFileFormat):"";return{label:l,fallback:r,fontFile:f,fontStyle:m,fontWeight:b,cssFile:d,value:x,importCSS:h,fontFace:k,type:a}}function U(e,t,s,l){let o={importCSS:"",fontFace:"",fonts:{},flat:{}};if(s&&s.name){let{importCSS:r,fontFace:a}=_(s.name,s,t);r&&(o.importCSS=r),a&&(o.fontFace=a)}for(let r in e){let a=e[r];if(!a)continue;let{importCSS:f,fontFace:d,type:x,...m}=_(r,a,t);f&&(o.importCSS=`${o.importCSS}${f}`),d&&(o.fontFace=`${o.fontFace}${d}`),o.fonts[x]||(o.fonts[x]={}),o.flat[r]=m,o.fonts[x][r]=m}if(l)for(let r in o.fonts)o.fonts[r]=Object.fromEntries(Object.entries(o.fonts[r]).sort(([,a],[,f])=>a.label.localeCompare(f.label)));return o}var q={disabled:!1,readonly:!1,allowEmpty:!0,cssFile:!1,sortFonts:!0,useCarbonWebfonts:!0,placeholder:"",placeholderFont:!1,enableFallback:!0,showIcons:!0,fonts:{}},i={font:(e,t,s)=>[{fontFamily:e==null?null:"xt1x0nq",fontWeight:t==null?null:"x1oq5gaa",fontStyle:s==null?null:"x1sgc6b7",fontSize:"xosj86m",$$css:!0},{"--fontFamily":e??void 0,"--fontWeight":t??void 0,"--fontStyle":s??void 0}],header:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},disabled:{cursor:"x1h6gzvc",opacity:"x190dgpg",":where(*)>*_pointerEvents":"xvszx66",$$css:!0},placeholder:{opacity:"x190dgpg",$$css:!0},highlight:{borderRadius:"x1cum3z5",outline:"xus49la",outlineOffset:"x1hl8ikr",$$css:!0},fontInHeader:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",gap:"x1xye2hm",marginLeft:"x1jstro9",paddingLeft:"x2kegb5",overflow:"xb3r6kr",lineHeight:"xo5v014",height:"x1vqgdyp",$$css:!0},block:{display:"x11xutdi",$$css:!0},searchInput:{marginLeft:"x1jstro9",width:"x10nwz3g",marginRight:"xcd9gkm",marginInlineStart:null,marginInlineEnd:null,$$css:!0},hidden:{pointerEvents:"x47corl",visability:"x11lge8g",opacity:"xg01cxk",$$css:!0}};function pt({id:e,value:t,commit:s,options:l,highlight:o,i18nRegistry:r,onEnterKey:a,config:f,carbonWebfonts:d}){let{disabled:x,readonly:m,allowEmpty:b,enableFallback:h,showIcons:k,placeholderFont:c,cssFile:Q,sortFonts:X,useCarbonWebfonts:Y}={...q,...f,...l},{placeholder:S}={...q,...f,...l},Z=Y?d:{},{importCSS:I,fontFace:D,fonts:R,flat:tt}=U({...Z,...q.fonts,...f.fonts,...l.fonts},h,!S&&c?c:null,X),[g,N]=(0,n.useState)(!1),[p,L]=(0,n.useState)(null),[v,T]=(0,n.useState)(""),[et,nt]=(0,n.useState)("");K(Q),(0,n.useEffect)(()=>{if(!t){L(null);return}let[u]=t.split(",");L(tt[u.trim()])},[t]),(0,n.useEffect)(()=>{let u=p?p.label:c?.label||c?.name;h&&p?.fallback&&(u+=`, ${p.fallback}`),h&&!p&&c?.fallback&&(u+=`, ${c.fallback}`),nt(C(u))},[p]),S&&(S=r.translate(S));let W=C(c?.label||c?.name);return n.default.createElement(n.default.Fragment,null,n.default.createElement(P,null,"VALUE: `",t,"`"),(!!I||!!D)&&n.default.createElement("style",null,I,D),n.default.createElement(w.DropDown.Stateless,{className:y(o&&i.highlight,m||x&&i.disabled).className,isOpen:g,onToggle:()=>N(!g),onClose:()=>{N(!1),T("")}},n.default.createElement(w.DropDown.Header,{id:e,className:y(!!t&&b&&i.header).className},n.default.createElement("div",{className:"xrvj5dj xnxdyar x1ly45rb"},n.default.createElement("span",{title:et,...y(!t&&i.placeholder,i.fontInHeader,t&&i.font(t,p?.fontWeight,p?.fontStyle),!t&&!!c?.name&&i.font(`${c.name}${h&&c.fallback?`, ${c.fallback}`:""}`),g&&i.hidden)},p?.label||W?n.default.createElement("span",{className:"x101abm8 xlyipyv"},p?.label||W):S),n.default.createElement(B,{value:v,onChange:T,placeholder:r.translate("search","Carbon.Editor.Styling","Main"),allowEmpty:!0,setFocus:g,containerStyle:[i.searchInput,g||i.hidden]})),b&&!!t&&n.default.createElement(F.IconButton,{icon:"times",onClick:u=>{s(""),u.stopPropagation()}})),n.default.createElement(w.DropDown.Contents,{scrollable:!0,className:y(g&&i.block).className},Object.entries(R).map(([u,ot])=>n.default.createElement("div",{key:u},n.default.createElement("div",{className:"xu0uvaq xzyrq3l x2kegb5 xtvhhri x1xlr1w8 xklk4pu xca8h9q"},r.translate(`fontType.${u}`,u,[],"Carbon.Editor.Styling","Main")),Object.values(ot).map(({label:j,fontFile:z,cssFile:E,value:A,fontWeight:rt,fontStyle:st})=>!v||(0,J.default)(v.toLowerCase(),j.toLowerCase())?n.default.createElement("button",{key:j,onClick:()=>{s(A)},className:"x78zum5 xh8yej3 x6s0dn4 x1qughib xu0uvaq x1wty727 x189eng2 x1iv4zvh xdpxx8g xrugqim x178jugr x1ypdohk x1rhqzh7 x1y4g52z xip2jzm"},n.default.createElement("span",{...y(i.font(A,rt,st),i.bigFont)},j),!!z&&k&&n.default.createElement(F.Icon,{icon:"file",title:z!==!0?z:null}),!!E&&k&&n.default.createElement(F.Icon,{icon:"link",title:E!==!0?E:null})):null))))))}var dt=(0,G.neos)(e=>({i18nRegistry:e.get("i18n"),config:e.get("frontendConfiguration").get("Carbon.Editor.Styling.BackgroundSize"),carbonWebfonts:e.get("frontendConfiguration").get("CarbonWebfonts")})),$t=dt(pt);export{$t as default};
