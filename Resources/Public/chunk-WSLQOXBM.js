import{a as H}from"./chunk-A6XDEK34.js";import{a as G}from"./chunk-VODNI7P4.js";import{b as E,e as _,f as M}from"./chunk-XTEK7IIS.js";var l=E(_(),1);var J=E(_(),1);var Q=E(G(),1);function st({units:n=["px","%"],unit:o="px",onActive:r,onClick:s=()=>{},i18nRegistry:p}){let e=(n.indexOf(o)+1)%n.length,d=n[e],m=p.translate("changeToUnit",d,[d],"Carbon.Editor.Styling","Main");return J.default.createElement("button",{type:"button",title:m,onMouseDown:r?()=>r(!0):null,onBlur:r?()=>r(!1):null,onClick:()=>s(d),className:"editorstyling-1ghz6dp editorstyling-1t8ecn8 editorstyling-1i66d86 editorstyling-1md70p1 editorstyling-1heor9g editorstyling-1wty727 editorstyling-1qlqyl8 editorstyling-1ypdohk editorstyling-1sv5n3t editorstyling-1curdr6 editorstyling-1yasepr editorstyling-kwbyna editorstyling-1p9coah"},o)}var dt=(0,Q.neos)(n=>({i18nRegistry:n.get("i18n")})),v=dt(st);function z(n){return n==null||n==null||typeof n=="string"&&!n.trim().length||typeof n=="number"&&isNaN(n)}function ut(n,o,r,s=!1,p=!1){let y="px";if(typeof n=="string"){let d=n.match(/^(-?\d*\.?\d+)(.*)$/),m=[y];if(s&&m.push("%"),d){let S=parseFloat(d[1]),u=d[2];return s&&u.startsWith("%")?(o=0,r=100,u="%"):(u.startsWith("rem")||u.startsWith("em"))&&(u="rem",S=S*16),m.includes(u)||(u=y),{value:B(S,o,r),unit:u,min:o,max:r}}}let e=z(n);return e&&(n=0),{value:p&&e?null:B(n,o,r),unit:y,min:o,max:r}}function ht(n,o,r){let{value:s}=ut(n,o,r);return s}function B(n,o,r){return typeof n=="string"&&(n=parseFloat(n)),(!n||typeof n!="number")&&(n=0),n=Math.round(n),typeof o=="number"&&(n=Math.max(o,n)),typeof r=="number"&&(n=Math.min(r,n)),n}var w=E(G(),1);var f={basicLook:{margin:"editorstyling-1ghz6dp",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,height:"editorstyling-1i66d86",background:"editorstyling-12t7z44",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,color:"editorstyling-189eng2",border:"editorstyling-1wty727",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,fontSize:"editorstyling-k07rqz",cursor:"editorstyling-1ed109x",$$css:!0},inputLook:n=>[{borderRadius:"editorstyling-1cum3z5",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,paddingBlock:"editorstyling-t970qd",paddingTop:null,paddingBottom:null,paddingLeft:"editorstyling-anjte",paddingRight:(n?0:"var(--fontSize-Base)")==null?null:"editorstyling-1hb41fa",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0},{"--paddingRight":(o=>typeof o=="number"?o+"px":o??void 0)(n?0:"var(--fontSize-Base)")}],input:n=>[{appearance:"editorstyling-jyslct",width:"editorstyling-h8yej3",textAlign:n==null?null:"editorstyling-1pl60t9",$$css:!0},{"--textAlign":n??void 0}],flex:{display:"editorstyling-78zum5",alignItems:"editorstyling-6s0dn4",justifyContent:"editorstyling-1qughib",$$css:!0},focus:{outline:"editorstyling-1a2a7pz",outlineColor:null,outlineOffset:null,outlineStyle:null,outlineWidth:null,color:"editorstyling-1cosvjk",background:"editorstyling-kcvqor",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,$$css:!0},highlight:{borderRadius:"editorstyling-1cum3z5",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,outline:"editorstyling-us49la",outlineColor:null,outlineStyle:null,outlineWidth:null,outlineOffset:"editorstyling-1hl8ikr",$$css:!0},disabled:{cursor:"editorstyling-1h6gzvc",opacity:"editorstyling-190dgpg",":where(*)>*_pointerEvents":"editorstyling-vszx66",$$css:!0}};function ct({debounce:n=500,i18nRegistry:o,value:r,onChange:s,onChangeDebounced:p,placeholder:y,unit:e,unitSwitch:d,containerStyle:m,inputStyle:S,onFocus:u,onBlur:T,onEnterKey:F,onKeyPress:A,onKeyDown:N,type:O="text",disabled:W,min:V,max:tt,title:nt,highlight:rt,allowFloat:ot=!1,setFocus:L=!1,allowEmpty:U=!1,textAlign:it="left",neos:gt,...h}){let k=O=="number",b=(0,l.useRef)(null),[g,R]=(0,l.useState)(r),[q,P]=(0,l.useState)(!1),[j,D]=(0,l.useState)(!!h.fakeFocus);(0,l.useEffect)(()=>{D(!!h.fakeFocus)},[h.fakeFocus]),(0,l.useEffect)(()=>{K(g)},[h.max,h.min]);function K(t,i=!1){if(!(!p&&!s)){if(typeof t=="string")for(;t.startsWith(" ");)t=t.substring(1);if(z(t)){if(U){X("");return}t=I(0),R(t)}else typeof t=="number"&&(t=I(t));if(k&&typeof t=="string"){if(t=t.replace(",",".").replace(/[a-zA-Z\s]/g,""),Z(t)){let a=t.match(/\+([\+]+)$/)?.[0].length||0,$=a?0:t.match(/-([-]+)$/)?.[0].length||0;if(a||$){let C=a?"+":"-",x=a||$,c=10**(x-2);t=`${t.slice(0,-x)}${C}${c}`}for(;t.includes("++")||t.includes("--");)t=t.replaceAll("++","+").replaceAll("--","-");for(;lt(t);)t=t.substring(1);if(t.length||(t=""),et(t))return;if(t)try{t=(0,eval)(t.replaceAll(":","/"))}catch{}}else t=parseFloat(t);ot||(t=Math.round(t)),t=`${I(t)}`,g!==t&&R(t)}X(t,i)}}function X(t,i=!1){t===r&&!i||(p?p(t):s(t))}let Y=H(K,n);(0,l.useEffect)(()=>{R(r)},[r]),(0,l.useEffect)(()=>{p&&s&&g!=r&&s(g)},[g]),(0,l.useEffect)(()=>{b&&b.current&&(h.autoFocus||L)&&b.current.focus()},[]),(0,l.useEffect)(()=>{b&&b.current&&L&&b.current.focus()},[L]);function Z(t){return t.includes("+")||t.includes("-")||t.includes("*")||t.includes("/")||t.includes(":")}function lt(t){return t.startsWith("*")||t.startsWith("/")||t.startsWith(":")}function et(t){return t.endsWith("+")||t.endsWith("-")||t.endsWith("*")||t.endsWith("/")||t.endsWith(":")}function I(t){return B(t,V,tt)}return l.default.createElement("div",{...M(e&&[f.flex,f.inputLook(d),f.basicLook],e&&(q||j)&&f.focus,rt&&f.highlight,W&&f.disabled,m),onClick:()=>{e&&!W&&b?.current?.focus()},title:nt},l.default.createElement("input",{...h,...M(f.input(it),f.basicLook,k&&f.numberInput,!e&&f.inputLook(!1),(q||j)&&f.focus,S),onFocus:t=>{P(!0),u&&u(t)},onBlur:t=>{P(!1),T&&T(t)},value:g===null?"":g,role:"textbox","aria-multiline":"false","aria-disabled":W?"true":"false",type:k?"text":O,inputmode:k?"numeric":null,placeholder:y?o.translate(unescape(y)):null,disabled:W,onChange:t=>{let i=t.target.value;R(i),Y(i)},onKeyDown:t=>{typeof N=="function"&&N(t);let i=t.key;if(k&&(i=="ArrowDown"||i=="ArrowUp")){let{metaKey:a,shiftKey:$,altKey:C}=t,x=i=="ArrowDown"?-1:1,c=parseFloat(g)||0;C?c=(c*10+x)/10:c=c+x*($?10:a?100:1),c=`${I(c)}`,g!==c&&(R(c),Y(c)),t.preventDefault()}},onKeyPress:t=>{let i=t.key;if(i=="Enter"&&typeof F=="function"){F();return}if(typeof A=="function"&&A(t),k){let a=t.target.value;(a.includes(".")||a.includes(","))&&(i=="."||i==",")&&t.preventDefault(),isNaN(i)&&!Z(i)&&i!="."&&i!=","&&i!=" "&&t.preventDefault()}},ref:b}),!(U&&z(g))&&l.default.createElement(l.default.Fragment,null,d&&e?l.default.createElement(v,{unit:e,onActive:D,onClick:d}):e))}var ft=(0,w.neos)(n=>({i18nRegistry:n.get("i18n")})),Wt=ft(ct);export{z as a,ut as b,ht as c,B as d,Wt as e};
