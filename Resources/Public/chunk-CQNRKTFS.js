import{b as P,e as R}from"./chunk-27VFVVIR.js";var r=P(R());function j(i,e,c,l){var p=this,a=(0,r.useRef)(null),o=(0,r.useRef)(0),f=(0,r.useRef)(0),t=(0,r.useRef)(null),s=(0,r.useRef)([]),v=(0,r.useRef)(),m=(0,r.useRef)(),W=(0,r.useRef)(i),d=(0,r.useRef)(!0);W.current=i;var y=typeof window<"u",w=!e&&e!==0&&y;if(typeof i!="function")throw new TypeError("Expected a function");e=+e||0;var D=!!(c=c||{}).leading,k=!("trailing"in c)||!!c.trailing,g="maxWait"in c,C="debounceOnServer"in c&&!!c.debounceOnServer,T=g?Math.max(+c.maxWait||0,e):null;(0,r.useEffect)(function(){return d.current=!0,function(){d.current=!1}},[]);var S=(0,r.useMemo)(function(){var F=function(n){var u=s.current,x=v.current;return s.current=v.current=null,o.current=n,f.current=f.current||n,m.current=W.current.apply(x,u)},b=function(n,u){w&&cancelAnimationFrame(t.current),t.current=w?requestAnimationFrame(n):setTimeout(n,u)},E=function(n){if(!d.current)return!1;var u=n-a.current;return!a.current||u>=e||u<0||g&&n-o.current>=T},M=function(n){return t.current=null,k&&s.current?F(n):(s.current=v.current=null,m.current)},A=function n(){var u=Date.now();if(D&&f.current===o.current&&q(),E(u))return M(u);if(d.current){var x=e-(u-a.current),O=g?Math.min(x,T-(u-o.current)):x;b(n,O)}},q=function(){l&&l({})},h=function(){if(y||C){var n=Date.now(),u=E(n);if(s.current=[].slice.call(arguments),v.current=p,a.current=n,u){if(!t.current&&d.current)return o.current=a.current,b(A,e),D?F(a.current):m.current;if(g)return b(A,e),F(a.current)}return t.current||b(A,e),m.current}};return h.cancel=function(){var n=t.current;n&&(w?cancelAnimationFrame(t.current):clearTimeout(t.current)),o.current=0,s.current=a.current=v.current=t.current=null,n&&l&&l({})},h.isPending=function(){return!!t.current},h.flush=function(){return t.current?M(Date.now()):m.current},h},[D,g,e,T,k,w,y,C,l]);return S}function z(i,e){return i===e}function B(i,e,c){var l=c&&c.equalityFn||z,p=(0,r.useRef)(i),a=(0,r.useState)({})[1],o=j((0,r.useCallback)(function(t){p.current=t,a({})},[a]),e,c,a),f=(0,r.useRef)(i);return l(f.current,i)||(o(i),f.current=i),[p.current,o]}export{j as a,B as b};
